var essb_subscribe_opened={},essb_subscribe_popup_close=function(s){jQuery(".essb-subscribe-form-"+s).fadeOut(400),jQuery(".essb-subscribe-form-overlay-"+s).fadeOut(400)},essb_toggle_subscribe=function(s){if(jQuery(".essb-subscribe-form-"+s).length){jQuery.fn.extend({center:function(){return this.each(function(){var s=(jQuery(window).height()-jQuery(this).outerHeight())/2,e=(jQuery(window).width()-jQuery(this).outerWidth())/2;jQuery(this).css({position:"fixed",margin:0,top:(s>0?s:0)+"px",left:(e>0?e:0)+"px"})})}});var e=jQuery(".essb-subscribe-form-"+s).attr("data-popup")||"";if("1"!=e)jQuery(".essb-subscribe-form-"+s).hasClass("essb-subscribe-opened")?(jQuery(".essb-subscribe-form-"+s).slideUp("fast"),jQuery(".essb-subscribe-form-"+s).removeClass("essb-subscribe-opened")):(jQuery(".essb-subscribe-form-"+s).slideDown("fast"),jQuery(".essb-subscribe-form-"+s).addClass("essb-subscribe-opened"),essb_subscribe_opened[s]||(essb_subscribe_opened[s]=s,essb_tracking_only("","subscribe",s,!0)));else{var r=jQuery(window).width(),b=(jQuery("document").height(),600);b>r&&(b=r-40),jQuery(".essb-subscribe-form-"+s).css({width:b+"px"}),jQuery(".essb-subscribe-form-"+s).center(),jQuery(".essb-subscribe-form-"+s).fadeIn(400),jQuery(".essb-subscribe-form-overlay-"+s).fadeIn(200)}}},essb_ajax_subscribe=function(s,e){e.preventDefault();var r=jQuery(".essb-subscribe-form-"+s+" #essb-subscribe-from-content-form-mailchimp");if(r.length){var b=jQuery(r).find(".essb-subscribe-form-content-email-field").val(),i=jQuery(r).find(".essb-subscribe-form-content-name-field").length?jQuery(r).find(".essb-subscribe-form-content-name-field").val():"";jQuery(r).find(".submit").prop("disabled",!0),jQuery(r).hide(),jQuery(".essb-subscribe-form-"+s).find(".essb-subscribe-loader").show(),console.log(r.attr("action")),console.log(b+","+i),jQuery.post(r.attr("action"),{mailchimp_email:b,mailchimp_name:i},function(e){console.log("result is "),console.log(e),e&&(console.log(e),"1"==e.code?jQuery(".essb-subscribe-form-"+s).find(".essb-subscribe-form-content-success").show():(jQuery(".essb-subscribe-form-"+s).find(".essb-subscribe-form-content-error").append(": <span>"+e.message+"</span>"),jQuery(".essb-subscribe-form-"+s).find(".essb-subscribe-form-content-error").show()),jQuery(".essb-subscribe-form-"+s).find(".essb-subscribe-loader").hide(),jQuery(r).hide())},"json")}};